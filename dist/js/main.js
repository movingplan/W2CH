!function a(i,s,d){function u(t,e){if(!s[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(f)return f(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[t]={exports:{}};i[t][0].call(o.exports,function(e){return u(i[t][1][e]||e)},o,o.exports,a,i,s,d)}return s[t].exports}for(var f="function"==typeof require&&require,e=0;e<d.length;e++)u(d[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tasks=void 0;n.tasks=[{_id:"01e0ba3c-0693-4017-9401-3ab6f017ad1e",title:"Mietvertrag der neuen Wohnung unterzeichnen <a href='https://www.comparis.de/tipps-zum-umzug-schweiz/zusammensetzung-des-mietzins' target='_blank' style='color:#66CC00;'>Erfahren Sie mehr...</a>",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",state:"default",_updatedDate:"2018-11-30T12:45:22.056Z",_createdDate:"2018-11-30T12:45:22.056Z"},{_id:"5b8462d9-4321-436f-a6cf-39cc3502f79d",title:"Form- und fristgerecht alte Wohnung kündigen",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.055Z",_createdDate:"2018-11-30T12:45:22.055Z"},{_id:"a274c55a-9fef-4e37-a83f-32e541fd1e2b",title:"Nachmieter suchen",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.054Z",_createdDate:"2018-11-30T12:45:22.054Z"},{_id:"c02a0480-7918-4600-8b8e-246f075b5e9a",title:"Auszugstermin mit altem Vermieter besprechen/vereinbaren",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.053Z",_createdDate:"2018-11-30T12:45:22.053Z"},{_id:"c279ba1b-afe7-4e82-9d74-ea3858acdb10",title:"Einzugstermin mit neuem Vermieter besprechen/vereinbaren",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.052Z",_createdDate:"2018-11-30T12:45:22.052Z"},{_id:"c5cb79ec-77dc-41e7-b5d5-38e0486d7710",title:"Ggf. Sonderurlaub bei Arbeitgeber einreichen",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.051Z",_createdDate:"2018-11-30T12:45:22.051Z"},{_id:"bdbdf93b-a290-45df-8652-3e4a31742a17",title:"Entscheiden, ob man für die Endreinigung der Wohnung ein Reinigungsinstitut beauftragt oder die Wohnung selbst putzt",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.050Z",_createdDate:"2018-11-30T12:45:22.050Z"},{_id:"3e889799-a541-48d9-a918-aa07770ddc16",title:"Entscheiden, ob man für den Umzug ein Umzugsunternehmen beauftragt oder den Umzug selbst durchführt",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.049Z",_createdDate:"2018-11-30T12:45:22.049Z"},{_id:"b545f00a-ccd7-447a-aa50-26137d4300bf",title:"Ggf. weitere Umzugshelfer organisieren",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.048Z",_createdDate:"2018-11-30T12:45:22.048Z"},{_id:"69ffae68-5ee5-4d78-ac71-b7469e765df1",title:"Offerten bei Umzugsunternehmen und/oder Reinigungsinstitut einholen",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.047Z",_createdDate:"2018-11-30T12:45:22.047Z"},{_id:"82d51fde-f1ce-48fe-af71-0a45234028b3",title:"Neue Wohnung ausmessen, bzw. Grundrissplan für die neue Wohnung anfordern",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.046Z",_createdDate:"2018-11-30T12:45:22.046Z"},{_id:"841f56b1-7d4a-4255-8822-fb01d95b2e4e",title:"Einrichtung der neuen Wohnung planen",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.045Z",_createdDate:"2018-11-30T12:45:22.045Z"},{_id:"05287b73-f471-43d4-bf1c-2c209739b3b2",title:"Ggf. Neuanschaffungen an neue Adresse bestellen",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.044Z",_createdDate:"2018-11-30T12:45:22.044Z"},{_id:"41966bff-d377-40af-b353-fff0bc0a95f7",title:"Mitgliedschaften und Abos kündigen, bzw. über Umzug informieren (z.b. Vereine, Zeitschriften, Kundenkarten)",days:90,days_after_move:0,_owner:"3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",_updatedDate:"2018-11-30T12:45:22.043Z",_createdDate:"2018-11-30T12:45:22.043Z"}]},{}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(n,"__esModule",{value:!0}),n.add=function(e,t,n,r){var o=s=new n,a=d=new t,i=new r;return a.init(),u[e]={model:a,view:o,controller:i}},n.get=function(e){return u[e]},n.setNode=b,n.getNode=h,n.merge=y,n.Controller=n.View=n.Model=void 0;var s,d,u=[];var i=function(){function e(){r(this,e),this.tree={},this.callbacks={setPre:[],setPost:[],change:[]}}return a(e,[{key:"init",value:function(){for(var e in this.callbacks)this.callbacks.hasOwnProperty(e)&&this.runCallbacks(e)}},{key:"setPre",value:function(e){for(var t=this.callbacks.setPre,n=t.length;n--;)e=t[n].call(this,e);return e}},{key:"setPost",value:function(e){this.runCallbacks("setPost")}},{key:"change",value:function(){this.runCallbacks("change")}},{key:"set",value:function(e,t){var n,r,o,a;if(l(e)){var i=this.setPre(y({},e));y(this.tree,i,function(e){return n=e})}else{var s=e;t=this.setPre((r={},o=s,a=t,o in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,r))[s],n=b(this.tree,s,t)}return n&&this.change(),this.setPost(),this}},{key:"get",value:function(e){return h(this.tree,e)}},{key:"on",value:function(e,t){var n=this.callbacks[e];return n&&n.unshift(t),this}},{key:"runCallbacks",value:function(e){for(var t=this.callbacks[e],n=t.length;n--;)t[n].call(this,this.tree)}},{key:"toJSON",value:function(){return this.tree}}]),e}();n.Model=i;var f=function(){function e(){r(this,e)}return a(e,[{key:"get",value:function(e){return this.el.querySelector(e)}},{key:"getAll",value:function(e){return this.el.querySelectorAll(e)}}]),e}();n.View=f;var c=function(){function e(){if(r(this,e),this.model=d,!s.el)throw new Error("View.el required!");this.view=s,s=d=null}return a(e,[{key:"bind",value:function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=this.view.el.querySelectorAll(t),r=n.length;r--;)e[t].call(this,n[r],this.model,this.view,this);return this}}]),e}();function l(e){return!(e!==Object(e)||e.nodeType||Array.isArray(e)||"function"==typeof e||e instanceof RegExp)}function b(e,t,a){var i=!1;return h(e,t,function(e,t,n){if(void 0===n){var r=e[t];a!==r&&(e[t]=a,i=!0)}else void 0===e[t]&&(e[t]=(o=n,Number(parseFloat(o))==o?[]:{}));var o}),i}function h(e,t,n){for(var r=t.split("."),o=e,a=0,i=r.length;a<i;a++){var s=r[a];if(n&&n(o,s,r[a+1]),void 0===o)break;o=o[s]}return o}function y(){var u,f=0,c=!0,e=function e(t,n){var r,o,a=n.length;t&&(o=l(n[0])?n[0]:{});for(var i=0;i<a;i++){if(r=n[i],!t&&null!=r){if(!o&&l(r)||r.nodeName){o=r;continue}if("boolean"==typeof r){c=r;continue}if("function"==typeof r){u=r;continue}if(!o)continue}for(var s in r)if(r.hasOwnProperty(s)){var d=r[s];c&&l(d)?o[s]=e(t+1,[o[s],d]):d!==o[s]&&(f++,o[s]=d)}}return o||{}}.apply(this,[0,arguments]);return u&&u(!!f),e}n.Controller=c},{}],3:[function(e,t,n){"use strict";var r=a(e("./modules/boot/boot")),o=a(e("./modules/todoitems/todoitems"));function a(e){return e&&e.__esModule?e:{default:e}}(new r.default).then(function(){new o.default})},{"./modules/boot/boot":4,"./modules/todoitems/todoitems":7}],4:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ready()}var t,n,r;return t=e,(n=[{key:"ready",value:function(){return new Promise(function(e,t){document.addEventListener("DOMContentLoaded",function(){/\w/.test(location.href)?e():t("Error")})})}}])&&o(t.prototype,n),r&&o(t,r),e}();n.default=r},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("../../lib/app")),i=r(e("../todoitems/todoviewmodel")),s=r(e("../../json/data"));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){function n(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=u(this,f(n).call(this)),window.onmessage=function(e){t.registerOnMessageReceivedHandler(e)},t.model.on("change",function(e){console.log("model changed"),t.view.setTitle(t.model.get("days")),t.view.renderToDoItems(t.model.get("tasks")),t.bindEventListeners()}),setTimeout(function(){t.model.set({tasks:s.tasks,days:{days:90,days_after_move:0}})},1e3),t}var t,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,a.Controller),t=n,(r=[{key:"bindEventListeners",value:function(){var o=this;this.bind({"span.close":function(t,e,n,r){t.onclick=function(e){return o.removeToDoItem(e,t)}}}),this.bind({li:function(t,e,n,r){t.onclick=function(e){return o.changeToDoItemStatus(e,t)}}}),this.bind({"#addBtn":function(e,t,n,r){e.onclick=function(e){return o.addToDoItem(e)}}}),this.bind({"#todo":function(e,t,n,r){e.onkeypress=function(e){13==(e.keyCode?e.keyCode:e.which)&&o.addToDoItem(e)}}}),this.bind({"#debug":function(e,t,n,r){e.onclick=function(e){o.view.get(".debugArea").innerHTML=JSON.stringify(o.model.get("tasks"))}}})}},{key:"changeToDoItemStatus",value:function(e,t){e.preventDefault();var n=$(t),r=$(t).find("input"),o=$(t).find("label"),a=($(t).find("label"),$(t).find("a"));if(0<a.length&&"A"===e.target.nodeName){var i=$(a).attr("href");window.open(i,"_blank")}else{"completed"!==n.attr("data-state")?(o.addClass("checked"),n.addClass("checked"),r.attr("checked",!0),n.attr("data-state","completed")):(o.removeClass("checked"),n.removeClass("checked"),r.attr("checked",!1),n.attr("data-state","default"));var s=this.getModelState(e,n);this.model.set({tasks:s.tasks}),this.view.setCounter(s.tasks)}}},{key:"getModelState",value:function(e,t){var r={state:t.attr("data-state"),id:t.attr("data-id")},n={tasks:this.model.get("tasks")};return n.tasks&&n.tasks.map(function(e,t,n){return e._id===r.id&&(e.state=r.state),e}),n}},{key:"removeToDoItem",value:function(e,t){var n=this;e.stopPropagation(),this.view.confirm("","Möchten Sie diese Aufgabe wirklich von Ihrer Checkliste entfernen?",function(r){var e=n.model.get("tasks");n.model.set({tasks:e.map(function(e,t,n){return e._id===r.id&&(e.state=r.state),e})}),n.view.setCounter(n.model.get("tasks")),$(t).parent("li").hide()},function(){},t)}},{key:"addToDoItem",value:function(e){var t=this.view.get("#todo").value;if(t){var n=new i.default(this.model.get("days"),t,"custom"),r={tasks:this.model.get("tasks")};0<r.tasks.length?r.tasks.unshift(n):r.tasks=[n],this.view.addItem(n),console.log("item added, model state:",this.model.get("tasks")),this.view.get("#todo").value="",this.model.set({tasks:r.tasks}),this.view.setCounter(this.model.get("tasks")),this.bindEventListeners()}}},{key:"sendMessageToWix",value:function(e){console.log("APP_ENV: sending to wix:",e),window.parent.postMessage(e,"*")}},{key:"prepareGetDataFromWix",value:function(){return{GET:"GET"}}},{key:"fromSyncCalendar",value:function(e){return e.syncCalendar}},{key:"registerOnMessageReceivedHandler",value:function(e){if(console.log("APP_ENV: data received from wix in registerOnMessageReceivedHandler: ",e),e.data){var t=e.data,n=t.tasks,r=t.days,o=t.ready,a=t.saveAll,i=t.beforeRegister,s=t.syncCalendar,d=t.error,u=t.blob;if(u){console.log("in blob"),console.log("blob "+u),console.log(file);var f="data:application/pdf;base64,"+u;return void window.open(f,"_blank")}if(d)return void this.view.info("Error","".concat(JSON.stringify(d)));if(n&&this.model.set({tasks:n,days:r}),s)return void this.view.info("","Wir arbeiten daran, Ihnen dieses Feature zur Verfügung zu stellen");a&&(i||this.view.info("","Ihre Daten wurden erfolgreich gespeichert."),this.sendMessageToWix({tasks:this.model.get("tasks"),POST:"POST"})),o&&this.sendMessageToWix(this.prepareGetDataFromWix())}}}])&&d(t.prototype,r),o&&d(t,o),n}();n.default=l},{"../../json/data":1,"../../lib/app":2,"../todoitems/todoviewmodel":8}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("../../lib/app"));o(e("../../json/data"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function n(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=i(this,s(n).call(this))).on("change",function(e){}),t.sanitize=function(e){for(var t in e)e.hasOwnProperty(t)&&"string"==typeof e[t]&&(e[t]=e[t].replace(/[^\w\s'!.,;]/g,""));return e},t.on("setPre",function(e){return t.sanitize(e)}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,r.Model),n}();n.default=u},{"../../json/data":1,"../../lib/app":2}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}}(e("../../lib/app")),o=s(e("./model")),a=s(e("./view")),i=s(e("./controller"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.add("ToDoItems",o.default,a.default,i.default)}},{"../../lib/app":2,"./controller":5,"./model":6,"./view":9}],8:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._id=this.createGuid(),this.days=e.days,this.days_after_move=e.days_after_move,this.title=t,this.state=n,this.order=0}var e,t,n;return e=r,(t=[{key:"createGuid",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}}])&&o(e.prototype,t),n&&o(e,n),r}();n.default=r},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}}(e("../../lib/app"));function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var o=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,d(t).call(this))).el=document.getElementById("todosection"),e.title=document.querySelector(".h2-title"),e.setModal(),e.showLoader(),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,a.View),n=t,(r=[{key:"setModal",value:function(){this.modal=$("#todoModal"),this.modal.modal("hide")}},{key:"showLoader",value:function(){$(function(){var t=$("#loader"),n=0;setInterval(function(){if(n<=75){n++;for(var e=0;e<1;e++)t.append("<i>.</i>"),t.find("i").fadeIn(500)}},250)})}},{key:"removeItem",value:function(e){return{state:"deleted",id:$(e).closest("li").data("id")}}},{key:"addItem",value:function(e){this.list=document.querySelector("#todolist");var t=document.createElement("div");t.innerHTML=this.renderToDoItem(e);var n=t.firstChild;this.list.childNodes[0]?this.list.insertBefore(n,this.list.childNodes[0]):this.list.appendChild(n)}},{key:"info",value:function(e,t){var n=this;this.modal.find("#todoModalCenterTitle").html(e),this.modal.find("#message").html(t),this.modal.find(".modal-footer").hide(),setTimeout(function(){n.modal.modal("hide")},3e3),this.modal.modal("show")}},{key:"confirm",value:function(e,t,n,r,o){var a=this;this.modal.find("#todoModalCenterTitle").html(e),this.modal.find("#message").html(t),this.modal.find(".modal-footer").show(),this.modal.on("click","#confirm",function(e){a.modal.modal("hide"),a.modal.on("hidden.bs.modal",n(a.removeItem(o)))}),this.modal.modal("show")}},{key:"setCounter",value:function(e){var t,n;if(e)try{e&&(n=e.filter(function(e){return"deleted"!==e.state}).length,t=e.filter(function(e){return"completed"===e.state}).length),this.get(".checklist-counter").innerHTML="".concat(t,"/").concat(n)}catch(e){console.log(e)}}},{key:"setTitle",value:function(e){if(e){var t="3 Monate vor dem Umzug";90===e.days&&0===e.days_after_move&&(t="3 Monate vor dem Umzug"),30===e.days&&0===e.days_after_move&&(t="1 Monat vor dem Umzug"),14===e.days&&0===e.days_after_move&&(t="2 Wochen vor dem Umzug"),1===e.days&&0===e.days_after_move&&(t="1 Tag vor dem Umzug"),0===e.days&&0===e.days_after_move&&(t="Am Umzugstag"),0===e.days&&14===e.days_after_move&&(t="Bis 14 Tage nach dem Umzug"),0===e.days&&90===e.days_after_move&&(t="Bis 3 Monate nach dem Umzug"),0===e.days&&300==e.days_after_move&&(t="Bis 12 Monate nach dem Umzug"),this.get(".checklist-title").innerHTML=t}}},{key:"renderToDoItems",value:function(e){var t=this;if(e){e.days&&(this.get(".checklist-title").innerHTML="".concat(e.days," days before move")),e&&this.setCounter(e);var n=Array.prototype.map.call(e,function(e){if("deleted"!==e.state)return t.renderToDoItem(e)});this.get("#todolist").innerHTML=n.join("")}}},{key:"renderToDoItem",value:function(e){var t="completed"===e.state?"checked":"";return'<li data-state="'.concat(e.state?e.state:"default",'" data-id="').concat(e._id,'" class="').concat(t,'">\n                    <label class="checkbox-container ').concat(t,'"> \n                        <input type="checkbox" ').concat(t,' class="').concat(t,'">\n                        <span class="todo-item-title">').concat(e.title,'</span><span class="checkmark"></span> \n                    </label>\n                    <span class="close">×</span>\n                </li>')}}])&&i(n.prototype,r),o&&i(n,o),t}();n.default=o},{"../../lib/app":2}]},{},[3]);
//# sourceMappingURL=main.js.map
